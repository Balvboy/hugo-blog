---
title: "MySQL的索引"
date: 2021-06-25T16:34:37+08:00
author:     "zhouyang"
draft: true
tags:
    - mysql
categories: [ MySQL ]   
---

# 数据页
存储引擎在对磁盘进行读取的时候，不会1字节1字节的读取，通常按照页为单位来读取，在mysql中一页通常为4KB或者4KB的倍数

为了调高IO的效率。

# MySQL索引数据结构


## 为什么实用B+数

- 多叉树，可以保证树的层数比较低，减少IO的次数
  - 一般千万级别的数据的索引，使用3到4层即可
- 叶子节点有序
- 每个节点可以存储多条数据，每个节点可以存储degree -1 条数据
-

## B+树的特点


# 索引优化

- 回表
- 覆盖索引
- 最左匹配
- 索引下推

## 建立索引的注意事项

- 建立索引的字段不宜太长
  - 字段短的话，则在一个数据页中可以存储更多的索引，从而可以减少IO的次数
  - 当然业务优先
- 表的主键最好使用自增、
  - 在自增的情况下，添加新的数据，只会影响最后面的数据页。
  - 而不自增的id，会导致页分裂
  - 比如身份证表中，身份证号是唯一的，但是不适合用来当主键，因为主键是聚簇索引，如果聚簇索引的大小是随机的，会导致很多务必要的数据行移动
  - 最好添加一列额外的id当做自增主键，哪怕用不到

## 索引失效条件

## 覆盖索引

## 索引合并

## 索引下推

## explain

### 字段解释

### 如果判断实用哪个索引

### key length的计算方法

### possible key 有但是 key 没有的情况

## 索引中null的问题，null会不会被加入到索引中？

# MySQL执行过程






[MySQL中IS NULL、IS NOT NULL、!=不能用索引](https://juejin.cn/post/6844903921450745863)
